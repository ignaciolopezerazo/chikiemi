<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flores amarillas para Emi</title>
  <style>
    :root{
      --bg:#fffbea;
      --bg2:#e7ffd1;
      --flower:#ffc400;
      --flower-dark:#ffb300;
      --leaf:#83c36b;
      --center:#8b5a00;
      --text:#6a4a00;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial;
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 80% -10%, #fff2b3 0%, transparent 60%) no-repeat,
        radial-gradient(900px 500px at -10% 110%, var(--bg2) 0%, transparent 60%) no-repeat,
        var(--bg);
      overflow:hidden;
      display:flex;flex-direction:column;align-items:center;justify-content:center;gap:14px;
    }
    h1, .msg{
      margin:0 16px;
      text-align:center;
      font-weight:900;
      letter-spacing:.3px;
      font-size: clamp(22px, 4vw, 38px);
      overflow:hidden;
      border-right:.15em solid #ffb300;
      white-space:nowrap;
      width:0;
      animation:typing 4s steps(40,end) forwards, blink .75s step-end infinite;
    }
    @keyframes typing{from{width:0} to{width:100%}}
    @keyframes blink{50%{border-color:transparent}}
    .panel{
      position:relative;
      width:min(1000px, 94vw);
      height:min(520px, 62vh);
      background:#ffffffb8;border:1px solid #f6eab2;border-radius:24px;
      box-shadow:0 12px 30px rgba(0,0,0,.07);
      overflow:hidden;
      display:flex;align-items:center;justify-content:center;
    }
    .meadow{ position:absolute; inset:auto 0 0 0; height:40%; background: linear-gradient(0deg,#ccf2bc 0%,#e8ffd9 70%, transparent 70%); }
    .garden{ position:absolute; inset:0; display:flex; align-items:flex-end; justify-content:center; gap:36px; padding:0 32px 24px; }
    .flower{
      width:96px;height:140px;position:relative; filter: drop-shadow(0 6px 8px rgba(0,0,0,.12));
      animation:sway 3.6s ease-in-out infinite;
      transform-origin:center bottom;
    }
    @keyframes sway{
      0%,100%{transform:rotate(-2deg)}
      50%{transform:rotate(2deg)}
    }
    .stem{ position:absolute; left:45px; bottom:0; width:6px; height:96px; background:linear-gradient(180deg,#8bcf76,#5ea95b); border-radius:6px; }
    .leaf{ position:absolute; width:24px; height:16px; background:var(--leaf); border-radius:18px 18px 18px 0; transform:rotate(20deg); left:20px; bottom:52px; box-shadow: inset 0 0 0 2px rgba(0,0,0,.06); }
    .leaf.leaf-r{ left:auto; right:20px; transform: scaleX(-1) rotate(20deg); }
    .blossom{ position:absolute; left:24px; bottom:88px; width:50px; height:50px; }
    .petal{ position:absolute; width:28px; height:20px; background: radial-gradient(closest-side, var(--flower) 0%, var(--flower-dark) 100%); border-radius: 16px 16px 2px 16px; transform-origin: right bottom; box-shadow: inset 0 0 0 1px rgba(0,0,0,.06); }
    .petal:nth-child(1){ transform: rotate(0deg) translate(19px, 0) }
    .petal:nth-child(2){ transform: rotate(45deg) translate(19px, 0) }
    .petal:nth-child(3){ transform: rotate(90deg) translate(19px, 0) }
    .petal:nth-child(4){ transform: rotate(135deg) translate(19px, 0) }
    .petal:nth-child(5){ transform: rotate(180deg) translate(19px, 0) }
    .petal:nth-child(6){ transform: rotate(225deg) translate(19px, 0) }
    .petal:nth-child(7){ transform: rotate(270deg) translate(19px, 0) }
    .petal:nth-child(8){ transform: rotate(315deg) translate(19px, 0) }
    .center{ position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:20px; height:20px; border-radius:50%; background:var(--center); box-shadow: inset 0 0 6px rgba(0,0,0,.22); }
    .msg{
      position:absolute; top:20px; left:50%; transform:translateX(-50%);
      font-size: clamp(16px, 2.8vw, 22px);
      font-weight:800; color:#a15c00; background:#fff7d1; border:1px solid #ffe489; padding:10px 14px; border-radius:14px;
      width:0;
      animation:typing2 4s steps(40,end) forwards 4.5s, blink .75s step-end infinite;
    }
    @keyframes typing2{from{width:0} to{width:100%}}
    .confetti{ position:fixed; inset:0; pointer-events:none; overflow:hidden; }
    .mini-flower{
      position:absolute;
      width:40px; height:40px;
      animation:fall linear forwards;
    }
    .mini-flower .blossom{ width:40px; height:40px; left:0; bottom:0; }
    .mini-flower .petal{ width:20px; height:14px; }
    .mini-flower .center{ width:14px; height:14px; }
    @keyframes fall{
      to{ transform: translateY(120vh) translateX(var(--dx, 0)) rotate(540deg) }
    }
    /* Bot贸n explosi贸n */
    .explosion-btn{
      position:fixed; bottom:20px; right:50%; transform:translateX(50%);
      background:#fff4c2; border:2px solid #ffe489; color:#a15c00;
      font-size:18px; font-weight:800; padding:10px 20px; border-radius:14px;
      box-shadow:0 6px 0 #f0d66a; cursor:pointer; user-select:none;
    }
    .explosion-btn:hover{ background:#ffe873 }
    .explosion-btn:active{ transform:translateX(50%) translateY(2px); box-shadow:0 4px 0 #f0d66a; }
  </style>
</head>
<body>
  <h1> Son para ti, Emi </h1>

  <div class="panel">
    <div class="msg" id="msg">Con cari帽o </div>
    <div class="meadow"></div>
    <div class="garden" id="garden"></div>
    <div class="confetti" id="confetti" aria-hidden="true"></div>
  </div>

  <!-- Bot贸n de explosi贸n de flores -->
  <button class="explosion-btn" id="explode">拣拣</button>

  <script>
    const garden = document.getElementById('garden');
    const confetti = document.getElementById('confetti');
    const explodeBtn = document.getElementById('explode');

    function mkFlower(){
      const f = document.createElement('div');
      f.className = 'flower';
      f.innerHTML = `
        <div class="stem"></div>
        <div class="leaf"></div>
        <div class="leaf leaf-r"></div>
        <div class="blossom">
          <div class="petal"></div><div class="petal"></div><div class="petal"></div><div class="petal"></div>
          <div class="petal"></div><div class="petal"></div><div class="petal"></div><div class="petal"></div>
          <div class="center"></div>
        </div>`;
      return f;
    }

    function mkMiniFlower(){
      const f = document.createElement('div');
      f.className = 'mini-flower';
      f.innerHTML = `
        <div class="blossom">
          <div class="petal"></div><div class="petal"></div><div class="petal"></div><div class="petal"></div>
          <div class="petal"></div><div class="petal"></div><div class="petal"></div><div class="petal"></div>
          <div class="center"></div>
        </div>`;
      return f;
    }

    function renderGarden(n){
      garden.innerHTML = '';
      for(let i=0;i<n;i++){
        const fl = mkFlower();
        fl.style.animationDuration = (3 + Math.random()*2.2) + 's';
        garden.appendChild(fl);
      }
    }

    function petals(n=40){
      for(let i=0;i<n;i++){
        const f = mkMiniFlower();
        const left = Math.random()*100;
        const size = 20 + Math.random()*20;
        const dur  = 6 + Math.random()*6;
        const drift = (Math.random()*80 - 40) + 'vw';
        f.style.left = left + 'vw';
        f.style.width = size + 'px';
        f.style.height = size + 'px';
        f.style.animationDuration = dur + 's';
        f.style.setProperty('--dx', drift);
        confetti.appendChild(f);
        setTimeout(()=> f.remove(), dur*1000 + 500);
      }
    }

    explodeBtn.addEventListener('click', ()=>petals(80));

    // inicial: flores + lluvia de mini flores
    renderGarden(5);
    setTimeout(()=>petals(60), 400);
  </script>
</body>
</html>
